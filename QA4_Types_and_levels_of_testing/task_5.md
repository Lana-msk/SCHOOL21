# Чек-лист для Grey-box тестирования приложения "Найди и иди"

---

## GL-Gb-1. Поле ввода названия магазина + БД

| № | Status | To do |
|---|---|---|
| GL-Gb-1.1 | [ ] | Ввод символов + анализ SQL-запросов в БД |
| GL-Gb-1.2 | [ ] | Минимальная длина + проверка валидации в коде |
| GL-Gb-1.3 | [ ] | Максимальная длина + проверка ограничений в БД |
| GL-Gb-1.4 | [ ] | Плейсхолдер + проверка в коде |
| GL-Gb-1.5 | [ ] | История поиска + проверка таблицы search_history в БД |
| GL-Gb-1.6 | [ ] | Очистка истории + анализ DELETE-запроса к БД |
| GL-Gb-1.7 | [ ] | SQL-инъекции + мониторинг параметризованных запросов |

---

## GL-Gb-2. Поле выбора типа магазина + БД

| № | Status | To do |
|---|---|---|
| GL-Gb-2.1 | [ ] | Выпадающий список + проверка SELECT-запроса к таблице shop_types |
| GL-Gb-2.2 | [ ] | Наличие типов + проверка параметров в запросе |
| GL-Gb-2.3 | [ ] | Выбор типа + проверка параметров в запросе |
| GL-Gb-2.4 | [ ] | Очистка выбора + проверка SET NULL в БД|
| GL-Gb-2.5 | [ ] | Длинные названия + проверка в интерфейсе |
| GL-Gb-2.6 | [ ] | Сохранение выбора + проверка данных |

---

## GL-Gb-3. Кнопка "Поиск" + логика

| № | Status | To do |
|---|---|---|
| GL-Gb-3.1 | [ ] | Активность при названии + анализ условия не менее 2х символов|
| GL-Gb-3.2 | [ ] | Активность при типе + проверка: shop_type_id != null |
| GL-Gb-3.3 | [ ] | Неактивность при 1 символе + анализ валидации length |
| GL-Gb-3.4 | [ ] | Результаты поиска + анализ работы запроса к серверу
| GL-Gb-3.5 | [ ] | Отсутствие результатов + проверка empty response handling |
| GL-Gb-3.6 | [ ] | Время отклика + мониторинг query execution time в БД |

---

## GL-Gb-4. Взаимодействие с картой + интеграция

| № | Status | To do |
|---|---|---|
| GL-Gb-4.1 | [ ] | Скролл карты + анализ событий картографического API |
| GL-Gb-4.2 | [ ] | Зум карты + проверка параметров bounds (отскок от границ) в запросах |
| GL-Gb-4.3 | [ ] | Флажки магазинов + проверка кластеризации маркеров |
| GL-Gb-4.4 | [ ] | Смена ориентации + проверка пересчета координат |
| GL-Gb-4.5 | [ ] | Масштабирование + анализ zoom-level в запросах |

---

## GL-Gb-5. Кнопка "Построить маршрут" + маршрутизация

| № | Status | To do |
|---|---|---|
| GL-Gb-5.1 | [ ] | Состояние "неактивна" + проверка условий в коде |
| GL-Gb-5.2 | [ ] | Активность при флажке + анализ сохраняется ли выбранный магазин в состоянии приложения |
| GL-Gb-5.3 | [ ] | Активность при типе + проверка алгоритма как находится ближайший магазин этого типа |
| GL-Gb-5.4 | [ ] | Проверка визуального отображение + анализ применяемых стилей |
| GL-Gb-5.5 | [ ] | Маршрут до ближайшего + проверка алгоритма расчета расстояний |
| GL-Gb-5.6 | [ ] | Отмена маршрута + анализ очистки route data |

---

## GL-Gb-6. Область карты и маршруты + логика

| № | Status | To do |
|---|---|---|
| GL-Gb-6.1 | [ ] | Контроль размера карты + проверка её стилей |
| GL-Gb-6.2 | [ ] | Контроль отображения маршрута + проверка данных линии маршрута от сервера |
| GL-Gb-6.3 | [ ] | Отмена маршрута + проверка единственного пути отмены |
| GL-Gb-6.4 | [ ] | Взаимодействие с картой + анализ блокировки жестов при активном маршруте |

---

## GL-Gb-7. Общая функциональность + backend

| № | Status | To do |
|---|---|---|
| GL-Gb-7.1 | [ ] | Восстановление маршрута + работу запроса к серверу |
| GL-Gb-7.2 | [ ] | Сохраняются ли данные между сессиями + анализ хранения данныех в браузере (в localStorage или cookies) |
| GL-Gb-7.3 | [ ] | Низкий заряд батареи + проверка срабатывают ли события Battery Status API |
| GL-Gb-7.4 | [ ] | Без точной геолокации + переключается ли приложение на определение местоположения по IP |
| GL-Gb-7.5 | [ ] | Производительность + мониторинг метрик (memory usage) |
| GL-Gb-7.6 | [ ] | Обработка ошибок + анализ сообщений об ошибках от сервера |

---

## GL-Gb-8. Ошибки и граничные случаи + логика

| № | Status | To do |
|---|---|---|
| GL-Gb-8.1 | [ ] | Несуществующее название + проверка обработки пустого результата поиска |
| GL-Gb-8.2 | [ ] | Зона без магазинов + анализ работы поиск магазинов в указанном радиусе |
| GL-Gb-8.3 | [ ] | Отсутствие интернета + проверка офлайн-режима |
| GL-Gb-8.4 | [ ] | Отключение GPS + анализ обработки ошибок определения местоположения |
| GL-Gb-8.5 | [ ] | Быстрые нажатия + проверка  защита от "залипания" кнопок |
| GL-Gb-8.6 | [ ] | Оба поля заполнены + анализ приоритета поиска |

---

## GL-Gb-9. Интеграция с БД + оптимизация

| № | Status | To do |
|---|---|---|
| GL-Gb-9.1 | [ ] | Подключение к БД + проверка правильно ли настроен пул соединений |
| GL-Gb-9.2 | [ ] | Структура таблиц + анализ связи между таблицами и индексы для ускорения поиска |
| GL-Gb-9.3 | [ ] | Поисковые запросы + эффективность запросов |
| GL-Gb-9.4 | [ ] | Кэширование + проверка интегрировано ли приложение с Redis или memcached |
| GL-Gb-9.5 | [ ] | Геоданные + анализ используются ли специальные индексы для работы с координатами |
| GL-Gb-9.6 | [ ] | Консистентность данных + проверка ACID транзакций (атомарность, целостность, согласованность) |

---

## GL-Gb-10. Безопасность + данные

| № | Status | To do |
|---|---|---|
| GL-Gb-10.1 | [ ] | SQL-инъекции + тестирование параметризованных запросов(безопасные ли) |
| GL-Gb-10.2 | [ ] | Защищено ли приложение от XSS-атак + анализ корректно ли очищается пользовательский ввод |
| GL-Gb-10.3 | [ ] | Права доступа к БД + проверка READ ONLY пользователя |
| GL-Gb-10.4 | [ ] | Шифрование данных + анализ используются ли защищенные TLS/SSL соединения |
| GL-Gb-10.5 | [ ] | Есть ли защита от слишком частых запросов + проверка на ограничения на API-запросы |
| GL-Gb-10.6 | [ ] | Аудит логов + анализ не попадают ли чувствительные данные в логи|

---

**Примечания для Grey-box тестирования:**

1. **Доступные данные:**
   - Схема БД: таблицы shops, shop_types, search_history
   - Логи приложения и БД
   - Состояние приложения (localStorage)

2. **Инструменты:**
   - DevTools для анализа сетевых запросов
   - SQL-клиент для прямых запросов
   - Мониторинг производительности (Chrome Performance)
   - Логирование console.log и error tracking

3. **Ключевые проверки:**
   - Корректность SQL-запросов к БД
   - Оптимизация API-запросов
   - Консистентность данных между UI и БД
   - Обработка ошибок на всех уровнях

4. **Критерии успеха:**
   - Критические SQL-запросы используют индексы (EXPLAIN показывает использование индексов)
   - Время ответа API для основных операций (поиск магазина, построение маршрута) < 500ms в 95% случаев
   - Отсутствие ошибок 5xx и корректные HTTP-статусы для всех запросов
   - Обработаны основные краевые случаи (пустой результат, невалидные данные, сетевая ошибка)